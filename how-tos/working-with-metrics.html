<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-how-tos/working-with-metrics" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Working with Metrics | Firefox Ecosystem Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mozilla.github.io/ecosystem-platform/how-tos/working-with-metrics"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Working with Metrics | Firefox Ecosystem Platform"><meta data-rh="true" name="description" content="Last updated: July 16th, 2025"><meta data-rh="true" property="og:description" content="Last updated: July 16th, 2025"><link data-rh="true" rel="icon" href="/ecosystem-platform/img/firefox-logo.png"><link data-rh="true" rel="canonical" href="https://mozilla.github.io/ecosystem-platform/how-tos/working-with-metrics"><link data-rh="true" rel="alternate" href="https://mozilla.github.io/ecosystem-platform/how-tos/working-with-metrics" hreflang="en"><link data-rh="true" rel="alternate" href="https://mozilla.github.io/ecosystem-platform/how-tos/working-with-metrics" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RFM5H13DFK-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Working with Metrics","item":"https://mozilla.github.io/ecosystem-platform/how-tos/working-with-metrics"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Firefox Ecosystem Platform" href="/ecosystem-platform/opensearch.xml"><link rel="stylesheet" href="/ecosystem-platform/assets/css/styles.f0831482.css">
<script src="/ecosystem-platform/assets/js/runtime~main.77fe16f6.js" defer="defer"></script>
<script src="/ecosystem-platform/assets/js/main.3f47d57a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ecosystem-platform/img/firefox-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ecosystem-platform/"><div class="navbar__logo"><img src="/ecosystem-platform/img/firefox-logo.png" alt="Ecosystem Platform Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ecosystem-platform/img/firefox-logo.png" alt="Ecosystem Platform Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Firefox Ecosystem Platform</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/mozilla/ecosystem-platform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ecosystem-platform/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link"><span title="For Relying Parties" class="categoryLinkLabel_W154">For Relying Parties</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/tutorials/integration-with-fxa"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/how-tos/end-to-end-encryption"><span title="How-to Guides" class="categoryLinkLabel_W154">How-to Guides</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/reference/glossary"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--active"><span title="For FxA Engineers" class="categoryLinkLabel_W154">For FxA Engineers</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ecosystem-platform/tutorials/development-setup"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/ecosystem-platform/how-tos/ci-guidelines"><span title="How-to Guides" class="categoryLinkLabel_W154">How-to Guides</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/ci-guidelines"><span title="CI Guidelines" class="linkLabel_WmDU">CI Guidelines</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/connecting-to-a-local-mysql-db"><span title="Connecting to a local MySQL DB" class="linkLabel_WmDU">Connecting to a local MySQL DB</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/creating-an-account-locally"><span title="Creating an Account Locally" class="linkLabel_WmDU">Creating an Account Locally</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/local-emails-with-maildev"><span title="Local Emails with MailDev" class="linkLabel_WmDU">Local Emails with MailDev</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/node-debugging"><span title="Node Debugging" class="linkLabel_WmDU">Node Debugging</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/serve-settings-production-build-locally"><span title="Serve Production Build of Settings Locally" class="linkLabel_WmDU">Serve Production Build of Settings Locally</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/using-a-custom-profile-with-firefox"><span title="Using a Custom Profile with Firefox" class="linkLabel_WmDU">Using a Custom Profile with Firefox</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/using-sentry-locally"><span title="Using Sentry.io for Local Development" class="linkLabel_WmDU">Using Sentry.io for Local Development</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/using-swagger-for-api-documentation"><span title="Using Swagger for API documentation" class="linkLabel_WmDU">Using Swagger for API documentation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/using-tracing-in-gcp"><span title="Tracing for Stage/Prod" class="linkLabel_WmDU">Tracing for Stage/Prod</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/using-tracing-locally"><span title="Tracing for Local Development" class="linkLabel_WmDU">Tracing for Local Development</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/using-twilio-locally"><span title="Using Twilio For Local Development and Testing" class="linkLabel_WmDU">Using Twilio For Local Development and Testing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/using-vscode-with-fxa"><span title="Using VS Code with FxA" class="linkLabel_WmDU">Using VS Code with FxA</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ecosystem-platform/how-tos/working-with-metrics"><span title="Working with Metrics" class="linkLabel_WmDU">Working with Metrics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/working-with-strapi-cms"><span title="Working with Strapi CMS" class="linkLabel_WmDU">Working with Strapi CMS</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ecosystem-platform/reference/team-processes/development-process"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ecosystem-platform/explanation/architectural-decision-records"><span title="Explanation" class="categoryLinkLabel_W154">Explanation</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/additional-docs"><span title="Additional Docs" class="linkLabel_WmDU">Additional Docs</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link"><span title="For Support Agents" class="categoryLinkLabel_W154">For Support Agents</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ecosystem-platform/reference/admin-panel"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ecosystem-platform/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">For FxA Engineers</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">How-to Guides</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Working with Metrics</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p>Last updated: <code>July 16th, 2025</code></p>
<p>Other relevant documents include our <a class="" href="/ecosystem-platform/reference/metrics">metrics reference</a> and <a class="" href="/ecosystem-platform/explanation/metrics">metrics explanation</a>.</p>
<p>In Spring 2023, FxA began its migration to use Mozilla&#x27;s <a href="https://mozilla.github.io/glean/book/" target="_blank" rel="noopener noreferrer" class="">Glean</a> for metrics.  At the time of writing, it is still ongoing.  Here you&#x27;ll find the Glean related content at the top; information on older metric event types can be found at the bottom.</p>
<header><h1>How do I...</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="find-documentation-on-glean">...find documentation on Glean?<a href="#find-documentation-on-glean" class="hash-link" aria-label="Direct link to ...find documentation on Glean?" title="Direct link to ...find documentation on Glean?" translate="no">​</a></h2>
<p><a href="https://mozilla.github.io/glean/book/" target="_blank" rel="noopener noreferrer" class="">The Glean book</a> is very good.  We use <a href="https://github.com/mozilla/glean.js" target="_blank" rel="noopener noreferrer" class="">Glean.js</a> in FxA.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="enable-glean-in-my-local-development-environment">...enable Glean in my local development environment?<a href="#enable-glean-in-my-local-development-environment" class="hash-link" aria-label="Direct link to ...enable Glean in my local development environment?" title="Direct link to ...enable Glean in my local development environment?" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="auth-server">Auth server<a href="#auth-server" class="hash-link" aria-label="Direct link to Auth server" title="Direct link to Auth server" translate="no">​</a></h3>
<p>Set the env var <code>AUTH_GLEAN_ENABLED</code> to true.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="content-server--settings">Content server / Settings<a href="#content-server--settings" class="hash-link" aria-label="Direct link to Content server / Settings" title="Direct link to Content server / Settings" translate="no">​</a></h3>
<ol start="0">
<li class="">Set the env var <code>GLEAN_ENABLED</code> to true.</li>
<li class="">Use <code>GLEAN_UPLOAD_ENABLED</code>, with a value of true or false, to toggle the <a href="https://mozilla.github.io/glean/book/reference/general/toggling-upload-status.html" target="_blank" rel="noopener noreferrer" class="">upload status</a>.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="add-more-glean-events">...add more Glean events?<a href="#add-more-glean-events" class="hash-link" aria-label="Direct link to ...add more Glean events?" title="Direct link to ...add more Glean events?" translate="no">​</a></h2>
<p>Initially FxA used a string metric for the event name, so adding an &quot;event&quot; merely involved a new string.  At the time of writing, we are migrating to Glean&#x27;s event metric type.  To add a new event now, we need to declare it in the appropriate YAML.</p>
<p>For event specific properties, we have a <code>event.reason</code> string metric to capture some additional, <code>event.name</code>-specific information.  Moving forward, we should use the <a href="https://mozilla.github.io/glean/book/reference/metrics/event.html#extra-metric-parameters" target="_blank" rel="noopener noreferrer" class=""><code>extra_keys</code></a> in the event for these event properties.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="auth-server-1">Auth server<a href="#auth-server-1" class="hash-link" aria-label="Direct link to Auth server" title="Direct link to Auth server" translate="no">​</a></h3>
<ol start="0">
<li class="">Update the YAML in <code>packages/fxa-shared/metrics/glean/fxa-backend-metrics.yaml</code>.</li>
<li class="">Run <code>yarn glean-generate</code> from <code>packages/fxa-auth-server</code>.</li>
<li class="">Update <code>gleanMetrics</code> in <code>packages/fxa-auth-server/lib/metrics/glean/index.ts</code> to add the event.  Ensure that you call the <code>record*</code> method on the new event by adding another case in the big switch statement in <code>createEventFn</code>.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="content-server">Content server<a href="#content-server" class="hash-link" aria-label="Direct link to Content server" title="Direct link to Content server" translate="no">​</a></h3>
<ol start="0">
<li class="">Update the YAML in <code>packages/fxa-shared/metrics/glean/fxa-ui-metrics.yaml</code>.</li>
<li class="">Run <code>yarn glean-generate</code> from <code>packages/fxa-content-server</code>.</li>
<li class="">Update <code>GleanMetrics</code> in <code>packages/fxa-content-server/app/scripts/lib/glean/index.ts</code> so its API exposes a function for the event.  Also ensure that you add the new event to the switch statement in <code>recordEventMetric</code>.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="settings">Settings<a href="#settings" class="hash-link" aria-label="Direct link to Settings" title="Direct link to Settings" translate="no">​</a></h3>
<ol start="0">
<li class="">Update the YAML in <code>packages/fxa-shared/metrics/glean/fxa-ui-metrics.yaml</code>.</li>
<li class="">Run <code>yarn glean-generate &amp;&amp; yarn build</code> from <code>packages/fxa-shared</code>.</li>
<li class="">Add the event to <code>eventsMap</code> in <code>packages/fxa-shared/metrics/glean/web/index.ts</code>.</li>
<li class="">Update <code>recordEventMetric</code> in <code>packages/fxa-settings/src/lib/glean/index.ts</code> to include the new event in the switch statement.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="view-the-glean-pings-while-debugging">...view the Glean pings while debugging?<a href="#view-the-glean-pings-while-debugging" class="hash-link" aria-label="Direct link to ...view the Glean pings while debugging?" title="Direct link to ...view the Glean pings while debugging?" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="auth-server-2">Auth server<a href="#auth-server-2" class="hash-link" aria-label="Direct link to Auth server" title="Direct link to Auth server" translate="no">​</a></h3>
<p>Grep for <code>glean-server-event</code> in <code>auth-out.log</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="content-server--settings-1">Content server / Settings<a href="#content-server--settings-1" class="hash-link" aria-label="Direct link to Content server / Settings" title="Direct link to Content server / Settings" translate="no">​</a></h3>
<ol start="0">
<li class="">Set <code>GLEAN_LOG_PINGS</code> to true to see the pings in the page&#x27;s JS console.</li>
<li class="">Set <code>GLEAN_DEBUG_VIEW_TAG</code> to some string to see the pings in the <a href="https://debug-ping-preview.firebaseapp.com/" target="_blank" rel="noopener noreferrer" class="">Debug Ping Viewer</a>.  For example, if you set a value of &#x27;bchen-local-dev&#x27;, then you can view the pings at <a href="https://debug-ping-preview.firebaseapp.com/pings/bchen-local-dev" target="_blank" rel="noopener noreferrer" class="">https://debug-ping-preview.firebaseapp.com/pings/bchen-local-dev</a>.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-new-activity-event">...create a new activity event?<a href="#create-a-new-activity-event" class="hash-link" aria-label="Direct link to ...create a new activity event?" title="Direct link to ...create a new activity event?" translate="no">​</a></h2>
<ol start="0">
<li class="">Add the event name to <code>ACTIVITY_EVENTS</code> in <code>lib/metrics/events.js</code>. Unless it’s also a flow event (most new events will be one or the other), you should also add it to <code>NOT_FLOW_EVENTS</code> in the same module.</li>
<li class="">Emit the new event in code like <code>request.emitMetricsEvent(&#x27;foo.bar&#x27;, { uid })</code>.</li>
<li class="">Wherever you emit it, add test cases to cover that the event is correctly logged.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-new-flow-event">...create a new flow event?<a href="#create-a-new-flow-event" class="hash-link" aria-label="Direct link to ...create a new flow event?" title="Direct link to ...create a new flow event?" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="auth-server-3">Auth server<a href="#auth-server-3" class="hash-link" aria-label="Direct link to Auth server" title="Direct link to Auth server" translate="no">​</a></h3>
<ol start="0">
<li class="">Emit the new event in code like <code>request.emitMetricsEvent(&#x27;foo.bar&#x27;)</code>.</li>
<li class="">Wherever you emit it, add test cases to cover that the event is correctly logged.</li>
<li class="">Be aware that flow events are only emitted if you have a <code>metricsContext</code>. If there’s one in the payload for the current route, you’re all good. If not, the code will try to read one from Redis for you. But a previous call to <code>request.stashMetricsContext</code> or <code>request.propagateMetricsContext</code> will need to have been made with the token that your request is authenticated by. Maybe that’s done already, maybe it isn’t, you’ll need to trace the request flow and grep the code.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="content-server-1">Content server<a href="#content-server-1" class="hash-link" aria-label="Direct link to Content server" title="Direct link to Content server" translate="no">​</a></h3>
<ol start="0">
<li class="">On the front-end, make sure your view has mixed in <code>FlowEventsMixin</code>.</li>
<li class="">view and engage events will be emitted automatically when you add the mixin, for other events you need to call <code>this.logFlowEvent</code> from your view.</li>
<li class="">Add test coverage for the new event to your view unit tests.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-new-email-event">...create a new email event?<a href="#create-a-new-email-event" class="hash-link" aria-label="Direct link to ...create a new email event?" title="Direct link to ...create a new email event?" translate="no">​</a></h2>
<p>You don’t need to do this, it’s all set up to work automatically.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-new-amplitude-event">...create a new Amplitude event?<a href="#create-a-new-amplitude-event" class="hash-link" aria-label="Direct link to ...create a new Amplitude event?" title="Direct link to ...create a new Amplitude event?" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="auth-server-4">Auth server<a href="#auth-server-4" class="hash-link" aria-label="Direct link to Auth server" title="Direct link to Auth server" translate="no">​</a></h3>
<ol start="0">
<li class="">Amplitude events are all triggered by activity or flow events, so the first step is to ensure there’s one of those (see above if you need to create a new one).</li>
<li class="">If you’re triggering from a specific event, add a new mapping to the <code>EVENTS</code> object in <code>lib/metrics/amplitude.js</code>. If you’re triggering from a set of events, add a mapping to <code>FUZZY_EVENTS</code> instead.</li>
<li class="">Add a new test case for the new event to <code>test/local/metrics/amplitude.js</code>. Every event should have its own test case in that module.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="content-server-2">Content server<a href="#content-server-2" class="hash-link" aria-label="Direct link to Content server" title="Direct link to Content server" translate="no">​</a></h3>
<ol start="0">
<li class="">Amplitude events are all triggered by flow or screen events, so the first step is to ensure there’s one of those (see above if you need to create a new flow event).</li>
<li class="">If you’re triggering from a specific event, add a new mapping to the <code>EVENTS</code> object in <code>server/lib/amplitude.js</code>. If you’re triggering from a set of events, add a mapping to <code>FUZZY_EVENTS</code> instead.</li>
<li class="">Add a new test case for the new event to <code>tests/server/amplitude.js</code>. Every event should have its own test case in that module.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/mozilla/ecosystem-platform/edit/master/docs/how-tos/working-with-metrics.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ecosystem-platform/how-tos/using-vscode-with-fxa"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Using VS Code with FxA</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ecosystem-platform/how-tos/working-with-strapi-cms"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Working with Strapi CMS</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#find-documentation-on-glean" class="table-of-contents__link toc-highlight">...find documentation on Glean?</a></li><li><a href="#enable-glean-in-my-local-development-environment" class="table-of-contents__link toc-highlight">...enable Glean in my local development environment?</a><ul><li><a href="#auth-server" class="table-of-contents__link toc-highlight">Auth server</a></li><li><a href="#content-server--settings" class="table-of-contents__link toc-highlight">Content server / Settings</a></li></ul></li><li><a href="#add-more-glean-events" class="table-of-contents__link toc-highlight">...add more Glean events?</a><ul><li><a href="#auth-server-1" class="table-of-contents__link toc-highlight">Auth server</a></li><li><a href="#content-server" class="table-of-contents__link toc-highlight">Content server</a></li><li><a href="#settings" class="table-of-contents__link toc-highlight">Settings</a></li></ul></li><li><a href="#view-the-glean-pings-while-debugging" class="table-of-contents__link toc-highlight">...view the Glean pings while debugging?</a><ul><li><a href="#auth-server-2" class="table-of-contents__link toc-highlight">Auth server</a></li><li><a href="#content-server--settings-1" class="table-of-contents__link toc-highlight">Content server / Settings</a></li></ul></li><li><a href="#create-a-new-activity-event" class="table-of-contents__link toc-highlight">...create a new activity event?</a></li><li><a href="#create-a-new-flow-event" class="table-of-contents__link toc-highlight">...create a new flow event?</a><ul><li><a href="#auth-server-3" class="table-of-contents__link toc-highlight">Auth server</a></li><li><a href="#content-server-1" class="table-of-contents__link toc-highlight">Content server</a></li></ul></li><li><a href="#create-a-new-email-event" class="table-of-contents__link toc-highlight">...create a new email event?</a></li><li><a href="#create-a-new-amplitude-event" class="table-of-contents__link toc-highlight">...create a new Amplitude event?</a><ul><li><a href="#auth-server-4" class="table-of-contents__link toc-highlight">Auth server</a></li><li><a href="#content-server-2" class="table-of-contents__link toc-highlight">Content server</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Mozilla Corporation.</div></div></div></footer></div>
</body>
</html>