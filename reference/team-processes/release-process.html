<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/team-processes/release-process" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Release Owner Duties | Firefox Ecosystem Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mozilla.github.io/ecosystem-platform/reference/team-processes/release-process"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Release Owner Duties | Firefox Ecosystem Platform"><meta data-rh="true" name="description" content="What is a Release Owner?"><meta data-rh="true" property="og:description" content="What is a Release Owner?"><link data-rh="true" rel="icon" href="/ecosystem-platform/img/firefox-logo.png"><link data-rh="true" rel="canonical" href="https://mozilla.github.io/ecosystem-platform/reference/team-processes/release-process"><link data-rh="true" rel="alternate" href="https://mozilla.github.io/ecosystem-platform/reference/team-processes/release-process" hreflang="en"><link data-rh="true" rel="alternate" href="https://mozilla.github.io/ecosystem-platform/reference/team-processes/release-process" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RFM5H13DFK-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Firefox Ecosystem Platform" href="/ecosystem-platform/opensearch.xml"><link rel="stylesheet" href="/ecosystem-platform/assets/css/styles.e5583d03.css">
<script src="/ecosystem-platform/assets/js/runtime~main.cdf2af77.js" defer="defer"></script>
<script src="/ecosystem-platform/assets/js/main.bf7e448d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ecosystem-platform/"><div class="navbar__logo"><img src="/ecosystem-platform/img/firefox-logo.png" alt="Ecosystem Platform Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ecosystem-platform/img/firefox-logo.png" alt="Ecosystem Platform Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Firefox Ecosystem Platform</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mozilla/ecosystem-platform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ecosystem-platform/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">For Relying Parties</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/tutorials/integration-with-fxa">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/how-tos/end-to-end-encryption">How-to Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/reference/integration-requirements">Reference</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">For FxA Engineers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/tutorials/development-setup">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/how-tos/ci-guidelines">How-to Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/ecosystem-platform/reference/team-processes/development-process">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/ecosystem-platform/reference/team-processes/development-process">Team Processes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/team-processes/development-process">Planning and Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/team-processes/work-breakdown-process">Work Breakdown</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/team-processes/triage-process">Triage Owner Duties</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ecosystem-platform/reference/team-processes/release-process">Release Owner Duties</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/team-processes/pull-request-review-guidelines">Pull Request review guidelines</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/reference/style-guides/node-style-guide">Style Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/reference/tests-in-circleci">CI and Test Automation</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/application-logging">Application Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/application-tracing">Application Tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/browser-support">Browser Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/customs-api">⚙️ Customs API Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/database-structure">Database Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/emails">Emails</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/experiments-ab-testing">Experiments &amp; A/B Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/github-strategies">GitHub Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/incident-response">Incident Response</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/localization">Localization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/metrics">Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/mobile-specifics">Mobile Specifics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/npm-scripts-and-nx">NPM / NX Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/oauth-details">OAuth Details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/rate-limiting">Rate limiting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/storybook-deploys-with-circleci">Storybook Deploys with CircleCI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/system-diagrams">System Diagrams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/third-party-authentication">Third Party Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/tokens">Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/reference/webchannels">WebChannels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a href="https://docs.telemetry.mozilla.org/datasets/fxa.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Telemetry Data Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/explanation/architectural-decision-records">Explanation</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/additional-docs">Additional Docs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">For Support Agents</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/reference/admin-panel">Reference</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ecosystem-platform/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">For FxA Engineers</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Team Processes</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Release Owner Duties</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Release Owner Duties</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-release-owner">What is a Release Owner?<a href="#what-is-a-release-owner" class="hash-link" aria-label="Direct link to What is a Release Owner?" title="Direct link to What is a Release Owner?">​</a></h2>
<p>The main duty of the release owner is to be the designated engineer to follow the &quot;Releasing Code&quot; process described below. The release owner should communicate and work with the rest of the team to ensure a smooth close-out of the current sprint, as well as create patch (AKA dot) releases as necessary throughout the sprint.</p>
<p>At the time of writing, the release responsibility is rotated every sprint/train to the next team member on the list at the top of our <a href="https://docs.google.com/document/d/1lc5T1ZvQZlhXY6j1l_VMeQT9rs1mN7yYIcHbRPR2IbQ/edit" target="_blank" rel="noopener noreferrer">deployment doc</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-am-the-release-owner-how-should-i-plan-my-sprint">I am the Release Owner: How should I plan my Sprint?<a href="#i-am-the-release-owner-how-should-i-plan-my-sprint" class="hash-link" aria-label="Direct link to I am the Release Owner: How should I plan my Sprint?" title="Direct link to I am the Release Owner: How should I plan my Sprint?">​</a></h2>
<p>Release ownership is confirmed during the sprint kick-off team meeting. Release owners should update the top of the <a href="https://docs.google.com/document/d/1lc5T1ZvQZlhXY6j1l_VMeQT9rs1mN7yYIcHbRPR2IbQ/edit" target="_blank" rel="noopener noreferrer">deploy doc</a> with the train number they will be tagging and their name (don&#x27;t forget to choose an emoji 🤘).</p>
<p>If you are the designated release owner, consider the following suggestions to managing your work and the release:</p>
<ul>
<li>When taking on work for the sprint, consider taking on around 5-15% less in order to allocate a portion of each day to release management duties and in particular towards the end of the sprint - this helps give you padding in case an unexpected (or two, or three) dot release comes up.</li>
<li>Take some time a day or two before tagging is scheduled to reach out in the #fxa-team Slack channel or to individual team members to check-in on in-progress or to-do work items. This might result in you taking on additional work performing reviews or reaching out to the appropriate people.<!-- -->
<ul>
<li>Things to consider asking:<!-- -->
<ul>
<li>Are there any tasks that need to be in the train? Are any of them in jeopardy of holding up the release from being tagged?</li>
<li>Is there anything I can do to help keep things moving?</li>
</ul>
</li>
</ul>
</li>
<li>1-3 hours before tagging, check open PRs, ping the PR authors directly and ensure that they will (or will not) land the PR in time for the 10am PT/1pm ET cutoff. Ping the team and let the team know you will be tagging at 10am PT/1pm ET. Ask that any missing notes in the deploy doc be added.<!-- -->
<ul>
<li><strong>If a PR does not land in time, it will roll to the next release.</strong>
<ul>
<li><a href="#patch-releases">Patch releases</a> can be requested as necessary but they&#x27;ll need to be justified according to the criteria</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you&#x27;re new to release ownership, check that you have access to the <a href="https://github.com/mozilla-services/cloudops-deployment/tree/master/projects/fxa" target="_blank" rel="noopener noreferrer"><code>cloudops-deployment</code></a> and <a href="https://github.com/mozilla-services/cloudops-infra/tree/master/projects/fxa" target="_blank" rel="noopener noreferrer"><code>cloudops-infra</code></a> repos. While not crucial, access to <code>cloudops-deployment</code> and <code>cloudops-infra</code> allows you to see PRs that may be listed in the deploy doc as well as make PRs in that repo when you make code changes that necessitate them.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="releasing-code">Releasing Code<a href="#releasing-code" class="hash-link" aria-label="Direct link to Releasing Code" title="Direct link to Releasing Code">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-regular-release">A regular release<a href="#a-regular-release" class="hash-link" aria-label="Direct link to A regular release" title="Direct link to A regular release">​</a></h3>
<ol>
<li>Ensure there are no critical patches for this tag that haven&#x27;t landed yet</li>
<li>If there are special steps in the deployment doc give the appropriate teams a heads up (e.g. probably SRE)</li>
<li>Load the <a href="https://github.com/mozilla/fxa/actions/workflows/tag-release.yml" target="_blank" rel="noopener noreferrer">Release Tag Action URL</a></li>
<li>Click &quot;Run workflow&quot; in the top right.</li>
<li>Watch the output of the action to make sure everything goes correctly.</li>
<li>Check that all tests pass in <a href="https://app.circleci.com/pipelines/github/mozilla/fxa" target="_blank" rel="noopener noreferrer">CircleCI</a>.</li>
<li>In case there is a test failure, look in the test artifacts on CI for the error. Here are the steps to <a href="https://mozilla.github.io/ecosystem-platform/reference/functional-testing#debugging-failed-tests-in-circleci-best-practices" target="_blank" rel="noopener noreferrer">debug the test failures</a>.</li>
<li>Post about the failure in the slack channel(#fxa-team) for visibility.</li>
<li>If it&#x27;s a new issue, file a ticket.</li>
<li>Once the code is tagged, all CI tests have passed, and the docker containers are built, you&#x27;ll see messages in slack as it auto-deploys to our staging server.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="patch-releases">Patch releases<a href="#patch-releases" class="hash-link" aria-label="Direct link to Patch releases" title="Direct link to Patch releases">​</a></h3>
<p>Patch (dot) releases are used between official releases to release code into staging or production that can&#x27;t wait for the normal release cycle. What warrants a patch release may be evaluated on a case-by-case basis, but we may need one if:</p>
<ul>
<li>An <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" target="_blank" rel="noopener noreferrer">S1 bug</a> is found</li>
<li>We have legitimate (non-flaky, non-SRE related) test failures in staging or production</li>
<li>We need to land tasks to make a time-sensitive deliverable that didn&#x27;t quite make the release, like a new RP launch</li>
</ul>
<p>If QA&#x27;s signoff after testing a release on staging comes back yellow or red, we should check with engineering management for their recommended course of action, as we may need a dot release before pushing a release to production.</p>
<p>Whenever a dot release is planned, ping the team to let them know you&#x27;ll be tagging <code>train xxx.y</code>, with a list of issues to be included in the release. Other engineers may have fixes that wouldn&#x27;t warrant a dot release on their own, but would be nice to ride along if a patch release is being tagged anyway.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>While it&#x27;s oftentimes up to our own discretion, engineers should be <strong>selective of fixes and mindful of asking</strong> release owners to include their patches if the patch wouldn&#x27;t justify a point release on its own, as it introduces more overhead and risk of failures or additional issues with the release.</p><p>If you’re requesting the release owner include a patch, make sure you know where that train is in regards to production. If the train is already in production, the dot release will be pushed to production relatively soon after the tag is made, which you may or may not intend. See the <a href="#production-hotfixes">production hotfixes</a> section for more info.</p></div></div>
<p>There are a few different ways to handle a dot release. Git is a flexible tool however, don&#x27;t hesitate to get in touch with your team to talk through the best courses of action.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-recommended-way">The <strong>recommended way</strong><a href="#the-recommended-way" class="hash-link" aria-label="Direct link to the-recommended-way" title="Direct link to the-recommended-way">​</a></h4>
<ol>
<li>Ensure the commits you want to pick have already landed in <code>main</code></li>
<li>Ensure you have the latest from the existing train branch (<code>git pull</code>)</li>
<li>On the train branch, run <code>git cherry-pick</code> for the needed commits that have landed in <code>main</code></li>
<li>Run <code>git log</code> to ensure you see the expected cherry-picked commit(s).  Also run any local tests you need to run to ensure things are functioning correctly.</li>
<li>Push your changes back to Github</li>
</ol>
<p>An example of commands to run for this kind of patch release are:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git fetch [remote] --tags</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git checkout main</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git pull</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git checkout train-100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git pull</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git cherry-pick &lt;commit1&gt; # do these one at a time to ensure there&#x27;s no merge conflicts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git cherry-pick &lt;commit2&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">(repeat as needed)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git log  # Verify you picked what you wanted to</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Run the server locally, run tests, etc. to verify your patch is operating correctly</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git push origin train-100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git tag -a &quot;v1.100.x&quot; -m &quot;Train release v1.100.x&quot; # X is your patch release number.  It just increments from the previous one.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git push origin v1.100.x</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="special-cases">Special Cases<a href="#special-cases" class="hash-link" aria-label="Direct link to Special Cases" title="Direct link to Special Cases">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="production-hotfixes">Production hotfixes<a href="#production-hotfixes" class="hash-link" aria-label="Direct link to Production hotfixes" title="Direct link to Production hotfixes">​</a></h3>
<p>If you need to hotfix a branch that is not the latest (for example, you need to hotfix Train 100 but there is also a Train 101 branch) then you need to ensure any code cherry picked to Train 100 is also cherry-picked to the Train 101 branch to avoid a regression when Train 101 goes to production.</p>
<p>This can happen if there is a hotfix needed in production (Train 100) but stage has already been tagged (Train 101).  In this case do the lowest branch first and get it to production and then do the next branch.</p>
<p>It&#x27;s good to communicate frequently in #fxa-team when this occurs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="releasing-icons">Releasing Icons<a href="#releasing-icons" class="hash-link" aria-label="Direct link to Releasing Icons" title="Direct link to Releasing Icons">​</a></h3>
<p>Icons and other assets are automatically deployed with every release. If icons need to be deployed outside the regular release process, ask SRE for help.</p>
<p>All product icons live in a dedicated <a href="https://github.com/mozilla/fxa/tree/main/assets" target="_blank" rel="noopener noreferrer">assets directory</a> in the fxa repo. This directory is independent of individual packages in the monorepo because it doesn&#x27;t need to be wrapped up in any particular container, and these icons may be used across different servers.</p>
<p>The <code>assets</code> directory is uploaded manually to the FxA CDN at <a href="https://accounts-static.cdn.mozilla.net" target="_blank" rel="noopener noreferrer">https://accounts-static.cdn.mozilla.net</a> as part of the release process. Subdirectories map directly to paths under the CDN domain: content in <code>assets/foo</code> maps to <a href="https://accounts-static.cdn.mozilla.net/foo" target="_blank" rel="noopener noreferrer">https://accounts-static.cdn.mozilla.net/foo</a>.</p>
<p>The Stripe product icons live in <code>assets/product-icons</code>.</p>
<p>It&#x27;s fine to create other subdirectories for new collections of assets as needed but you&#x27;ll need to modify <a href="https://github.com/mozilla/fxa/blob/main/.github/workflows/upload-assets-to-cdn.yml" target="_blank" rel="noopener noreferrer">the push script</a> to include them.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="security-releases">Security Releases<a href="#security-releases" class="hash-link" aria-label="Direct link to Security Releases" title="Direct link to Security Releases">​</a></h3>
<p>We maintain <a href="https://github.com/mozilla/fxa-private" target="_blank" rel="noopener noreferrer"><code>fxa-private</code></a> for making security-related point releases, also known as a private patch release. This is something we rarely have to do.</p>
<p>The recommended procedure for doing so is:</p>
<ol>
<li>Check out the private repo, independently from your normal working repo:</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone git@github.com:mozilla/fxa-private</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd fxa-private</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Do not add fxa-private as a remote on your normal working repo. This increases the risk of pushing a private fix to the public repo by mistake.</p></div></div>
<ol>
<li>Add the corresponding public repo as a remote named <code>public</code>, and ensure it&#x27;s up-to-date:</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git remote add public git@github.com:mozilla/fxa</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git fetch public # Ensure this pulls latest tags. Run `git fetch public --tags` if not</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>Check out the latest release branch and push it to the private repo:</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git checkout public/train-XYZ</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git push origin train-XYZ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>Develop your fix against this as a new branch in the private repo:</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git checkout -b train-XYZ-my-security-fix</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git commit -a</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git push -u origin train-XYZ-my-security-fix</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>
<p>Submit and review the fix as a PR in the private repo,
targetting the <code>train-XYZ</code> branch.</p>
</li>
<li>
<p>Tag a point release in the private repo, following the release steps</p>
</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git checkout train-XYZ; git pull  # ensure we have the merged PR</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git tag -a &quot;v1.100.x&quot; -m &quot;Train release v1.100.x&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git push</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>Push the tag in order to trigger a CircleCI build:</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git push origin v1.XYZ.N</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Do not use <code>git push --tags</code> as this will not correctly trigger the CircleCI build.</p></div></div>
<ol>
<li>File an issue in the next sprint as a reminder to uplift the fix once it has been deployed to production.</li>
</ol>
<p>Operations is involved at this point to deploy to production directly from <code>fxa-private</code> so the patch is never seen before it&#x27;s live.</p>
<p>Once the fix is verified in production, the patch is cherry-picked or merged back to <code>fxa</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="temporary-stage-deploys">Temporary stage deploys<a href="#temporary-stage-deploys" class="hash-link" aria-label="Direct link to Temporary stage deploys" title="Direct link to Temporary stage deploys">​</a></h3>
<p>If you are working on something that you wish to test out in a release environment before it is officially merged into <code>main</code> you might consider a temporary deploy to stage.</p>
<p>To do so, start by branching off the most recent train branch. Don&#x27;t branch off <code>main</code> so you&#x27;re not introducing changes merged after the official train was deployed. Cherry-pick your change(s) into the new branch.</p>
<p>Tag the branch with a name of your choosing, and push your branch to <code>mozilla/fxa</code>. Because you&#x27;re pushing a tag, it will trigger a build workflow in CircleCI. Keep an eye on the <code>deploy-packages</code> job.</p>
<p>Once the images have been built, you can ping someone from SRE in Slack to selectively deploy servers your changes occurred in (e.g. if you only change code in <code>fxa-auth-server</code>, only the auth server needs to be deployed).</p>
<p>Some things to keep in mind:</p>
<ul>
<li>This is a temporary deploy. Your changes will be reverted when the next official stage train tag occurs for a regular release or a patch release, or if someone else needs to perform this process.</li>
<li>We have relying parties that depend on stage for their own testing, so try not to break things with your temporary code. If you think this is a possibility please consider pinging QA in Slack so they can perform tests as needed.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="Direct link to FAQ" title="Direct link to FAQ">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-actually-happens-with-the-deploy-process">What actually happens with the deploy process?<a href="#what-actually-happens-with-the-deploy-process" class="hash-link" aria-label="Direct link to What actually happens with the deploy process?" title="Direct link to What actually happens with the deploy process?">​</a></h3>
<ol>
<li>A tag named <code>v1.xxx.y</code> is made</li>
<li>When the tag is pushed to <code>mozilla/fxa</code>, CircleCI runs the normal unit/integration tests on that tag</li>
<li>After tests pass, <code>deploy_and_tag</code> is ran, where CircleCI builds Docker images and uploads them to Docker Hub</li>
<li>Docker Hub sends a webhook to Jenkins and runs the our deploy pipelines with the new Docker image</li>
<li>Our servers are deployed and our Slackbot pings the #fxa-team channel. These go out one-after-another but they have a little overlap.<!-- -->
<ul>
<li>Stage is deployed in alphabetical order</li>
<li>Production is deployed with:<!-- -->
<ul>
<li>auth-server first because it breaks the most</li>
<li>Anything that touches the database</li>
<li>Then content-server and others last</li>
</ul>
</li>
</ul>
</li>
<li>The test-content-server-remote smoke tests are ran, triggered by the content-server deployment finishing</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="canary">Canary<a href="#canary" class="hash-link" aria-label="Direct link to Canary" title="Direct link to Canary">​</a></h4>
<p>In staging, we have a canary available but there is only one server, meaning the canary will take 100% of traffic.</p>
<p>In production, the canary also takes the full amount of traffic, however, the percentage of traffic it gets is based on how many servers are running. For example, if the auth-server is deployed with 30 servers, the canary would take 1/30th of the traffic.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="does-a-deploy-failure-on-one-server-prevent-others-from-deploying">Does a deploy failure on one server prevent others from deploying?<a href="#does-a-deploy-failure-on-one-server-prevent-others-from-deploying" class="hash-link" aria-label="Direct link to Does a deploy failure on one server prevent others from deploying?" title="Direct link to Does a deploy failure on one server prevent others from deploying?">​</a></h3>
<p>In staging, a single service will not stop the rest from deploying. In production, they are deployed by hand, so if one breaks SRE will stop the rest from deploying.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mozilla/ecosystem-platform/edit/master/docs/reference/team-processes/release-process.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ecosystem-platform/reference/team-processes/triage-process"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Triage Owner Duties</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ecosystem-platform/reference/team-processes/pull-request-review-guidelines"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pull Request review guidelines</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-release-owner" class="table-of-contents__link toc-highlight">What is a Release Owner?</a></li><li><a href="#i-am-the-release-owner-how-should-i-plan-my-sprint" class="table-of-contents__link toc-highlight">I am the Release Owner: How should I plan my Sprint?</a></li><li><a href="#releasing-code" class="table-of-contents__link toc-highlight">Releasing Code</a><ul><li><a href="#a-regular-release" class="table-of-contents__link toc-highlight">A regular release</a></li><li><a href="#patch-releases" class="table-of-contents__link toc-highlight">Patch releases</a></li></ul></li><li><a href="#special-cases" class="table-of-contents__link toc-highlight">Special Cases</a><ul><li><a href="#production-hotfixes" class="table-of-contents__link toc-highlight">Production hotfixes</a></li><li><a href="#releasing-icons" class="table-of-contents__link toc-highlight">Releasing Icons</a></li><li><a href="#security-releases" class="table-of-contents__link toc-highlight">Security Releases</a></li><li><a href="#temporary-stage-deploys" class="table-of-contents__link toc-highlight">Temporary stage deploys</a></li></ul></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a><ul><li><a href="#what-actually-happens-with-the-deploy-process" class="table-of-contents__link toc-highlight">What actually happens with the deploy process?</a></li><li><a href="#does-a-deploy-failure-on-one-server-prevent-others-from-deploying" class="table-of-contents__link toc-highlight">Does a deploy failure on one server prevent others from deploying?</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Mozilla Corporation.</div></div></div></footer></div>
</body>
</html>