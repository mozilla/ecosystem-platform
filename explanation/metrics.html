<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-explanation/metrics">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Metrics | Firefox Ecosystem Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mozilla.github.io/ecosystem-platform/explanation/metrics"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Metrics | Firefox Ecosystem Platform"><meta data-rh="true" name="description" content="Last updated: March 21st, 2022"><meta data-rh="true" property="og:description" content="Last updated: March 21st, 2022"><link data-rh="true" rel="icon" href="/ecosystem-platform/img/firefox-logo.png"><link data-rh="true" rel="canonical" href="https://mozilla.github.io/ecosystem-platform/explanation/metrics"><link data-rh="true" rel="alternate" href="https://mozilla.github.io/ecosystem-platform/explanation/metrics" hreflang="en"><link data-rh="true" rel="alternate" href="https://mozilla.github.io/ecosystem-platform/explanation/metrics" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RFM5H13DFK-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Firefox Ecosystem Platform" href="/ecosystem-platform/opensearch.xml"><link rel="stylesheet" href="/ecosystem-platform/assets/css/styles.f894936b.css">
<link rel="preload" href="/ecosystem-platform/assets/js/runtime~main.e38b5e82.js" as="script">
<link rel="preload" href="/ecosystem-platform/assets/js/main.5156377b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ecosystem-platform/"><div class="navbar__logo"><img src="/ecosystem-platform/img/firefox-logo.png" alt="Ecosystem Platform Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/ecosystem-platform/img/firefox-logo.png" alt="Ecosystem Platform Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Firefox Ecosystem Platform</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mozilla/ecosystem-platform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ecosystem-platform/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">For Relying Parties</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/tutorials/integration-with-fxa">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/how-tos/end-to-end-encryption">How-to Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/relying-parties/reference/metrics-for-relying-parties">Reference</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">For FxA Engineers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/tutorials/development-setup">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/how-tos/creating-an-account-locally">How-to Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/reference/team-processes/development-process">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/ecosystem-platform/explanation/architectural-decision-records">Explanation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/explanation/architectural-decision-records">Architectural Decision Records</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ecosystem-platform/explanation/metrics">Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/explanation/onepw-protocol">onepw Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/explanation/scoped-keys">Scoped Keys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/explanation/content-server-architecture">Content-server architecture</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/additional-docs">Additional Docs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">For Support Agents</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ecosystem-platform/reference/admin-panel">Reference</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ecosystem-platform/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">For FxA Engineers</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Explanation</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Metrics</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Metrics</h1></header><p>Last updated: <code>March 21st, 2022</code></p><p>Please read our <a href="/ecosystem-platform/reference/metrics">metrics reference</a> before this document as it has the context of our current system in it.  The document below is about <em>application metrics</em>.</p><h1>A brief history</h1><p>The FxA metrics ecosystem is arcane and esoteric, so a brief history of how we got to where we are may be helpful to understand the landscape.</p><p>In the beginning there were simple <em>activity events</em>. These were basic events emitted from the auth and oauth servers, visualised via now defunct dashboards.</p><p>They provided useful insights from a high level about things like how many sign-ins and sign-ups there were. But they didn’t allow us to follow a user’s journey through a sign-in or sign-up flow, which include email verification steps that may take place across multiple devices.</p><p>So the <em>flow events</em> were created, stored in Redshift and visualised in Redash (and the existing activity metrics were moved to Redshift/Redash at the same time).</p><p>Flow events include two extra pieces of metadata, a flow id and a flow begin-time, which gave us more detailed insight into user behaviour. And, unlike the activity events, these were also emitted by client-side code in the content server.</p><p>The flow events proved handy for some use-cases that they weren’t meant for, so we started piggy-backing other things like performance metrics, post-sign-in activity and email events on them too. That stressed the infrastructure somewhat, but also gave us the ability to e.g. directly link perf metrics to user behaviour, which was an unexpected new superpower.</p><p>The stressed infrastructure meant queries ran pretty slowly though and they required SQL knowledge. And the organic growth of the event schema meant there were issues around inconsistent nomenclature confusing people. And they were ingested via Heka, which meant working with an unfamiliar language (Lua) in an environment that was hard to meaningfully test without just pushing your changes and seeing whether they worked. And we never got round to ingesting the events more frequently than daily, so people were frustrated about having to wait a day to see stuff show up in charts.</p><p>For all of those reasons, at the end of 2017 Amplitude was chosen as a paid-for replacement for the more producty metrics we were sending to Redshift.  We called these <em>Amplitude Events</em>.</p><p>These had some really good properties:</p><ul><li>The event schema was designed in advance, so it would be less confusing</li><li>We sent these events in real time.  This was a huge improvement over the 24hr+ lag we were used to</li><li>Nobody had to wrestle with SQL any more</li></ul><p>They also had some really bad properties:</p><ul><li>The Amplitude service is expensive and we send a lot of events</li><li>Due to #1, we decided to only send a subset of events.  This means there were now two places you have to look if you don&#x27;t know exactly what you need.</li></ul><p>In June 2020 we stopped using Amplitude due to cost.  That leaves us with a lot of things referring to <em>amplitude events</em> still.  That&#x27;s fine for identifying that subset of events, but understand we don&#x27;t actually use Amplitude anymore.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="so-where-does-that-leave-us">So, where does that leave us?<a href="#so-where-does-that-leave-us" class="hash-link" aria-label="Direct link to So, where does that leave us?" title="Direct link to So, where does that leave us?">​</a></h2><p>Well, it&#x27;s a bit complicated and you should make sure you&#x27;ve read our <a href="/ecosystem-platform/reference/metrics">metrics reference</a> first.</p><p>In the <code>firefox_accounts</code> dataset in the <code>mozdata</code> project:</p><ul><li><code>fxa_[server]_*</code> tables will be most of the amplitude events</li><li><code>fxa_log_[server]_*</code> tables will be most of the flow events</li></ul><p>However, there are a bunch of other tables in there as well.  In short, only experience can really help you find the data you are looking for if there isn&#x27;t already a dashboard for it.  Ask the FxA team or #data-help in slack.</p><h1>How are metrics emitted?</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="auth-server">Auth server<a href="#auth-server" class="hash-link" aria-label="Direct link to Auth server" title="Direct link to Auth server">​</a></h2><p>Activity events, flow events, and amplitude events are all just mozlog-format log lines. There are functions for each of them in the module <code>lib/log.js</code>, respectively called <code>activityEvent</code>, <code>flowEvent</code> and <code>amplitudeEvent</code>. However, to reduce boilerplate in the codebase they’re actually invoked via calls to <code>request.emitMetricsEvent</code>. That function is defined in <code>lib/metrics/events.js</code> and is decorated onto the request object by code in <code>lib/server.js</code>.</p><p>Activity events must have a <code>uid</code> property. Some call sites also set <code>device_id</code>. Properties containing user agent information and the OAuth client id are set automatically based on the request object.</p><p>Flow events have their properties set automatically as well, either from the request object or, if there is an authentication token of some kind, from data stored against the uid and token id in memcached. This data is widely referred to as <code>metricsContext</code> throughout the codebase and has a lifetime of 2 hours, which is an arbitrary limit that allows us to fetch data for most flows while ignoring dubious data from stale or non-authentic sources. The <code>metricsContext</code> is written to memcached via calls to <code>request.stashMetricsContext</code> (where it’s copied from the request data) and <code>request.propagateMetricsContext</code> (where it’s copied from some other stashed data). Those functions are both defined in <code>lib/metrics/context.js</code> and decorated onto the request object in <code>lib/server.js</code>.</p><p>Amplitude events are not explicitly emitted (note the exception in <a href="#payments-server">fxa-payments-server</a>), because they can all be mapped to from previously-existing activity or flow events. Those mappings are defined by structures called <code>EVENTS</code> and <code>FUZZY_EVENTS</code> in <code>lib/metrics/amplitude.js</code>. Any event matching a string key from <code>EVENTS</code> or a regex key from <code>FUZZY_EVENTS</code> gets transformed into the corresponding event by common code in the <code>fxa-shared</code> package (it’s also used by the content server). Most of the properties on those events are set automatically, although there are still some cases where data must be set explicitly at the call site.</p><p>All events are validated against a shared schema, then logged to <code>stdout</code>; this includes invalid events which are logged with their validation error as well. These logs are loaded into BigQuery in partitioned tables. As BigQuery uses schema auto-detection, if the BigQuery data type changes, the log line won&#x27;t go to the partitioned <code>stdout</code> table, but instead to an error table.</p><p>StatsD is used to capture latency performance metrics on SQS calls, SNS calls, Stripe calls, and any HTTP API requests handled by <code>lib/backendService.js</code> (e.g. requests to our customs server).  It is also used to time the server&#x27;s request handling on all routes.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="content-server">Content server<a href="#content-server" class="hash-link" aria-label="Direct link to Content server" title="Direct link to Content server">​</a></h2><p>Again, flow events and amplitude events in the content server are just mozlog-format log lines. But before they can be logged on the back-end, the front-end has to submit them to the endpoint POST <code>/metrics</code> first. This is handled by the module <code>app/scripts/lib/metrics.js</code>.</p><p>The front-end also needs to make sure it has a <code>flowId</code> and <code>flowBeginTime</code>, either from <code>data- attributes</code> on the body element that were set by the back-end, or from data propagated in the resume token. In both cases, the data is loaded by <code>app/scripts/models/flow.js</code>.</p><p>After they reach the back-end, events are processed by <code>server/lib/flow-event.js</code>. And, just like the auth server, there are <code>EVENTS</code> and <code>FUZZY_EVENTS</code> mappings to control transformations to amplitude events in <code>server/lib/amplitude.js</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="event-broker">Event Broker<a href="#event-broker" class="hash-link" aria-label="Direct link to Event Broker" title="Direct link to Event Broker">​</a></h2><p>StatsD is used to collect SQS processing latency metrics and message type counts.  Details are on <a href="https://github.com/mozilla/fxa/tree/main/packages/fxa-event-broker#metrics" target="_blank" rel="noopener noreferrer">the package&#x27;s README</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="payments-server">Payments server<a href="#payments-server" class="hash-link" aria-label="Direct link to Payments server" title="Direct link to Payments server">​</a></h2><p>Flow metrics are required, as metrics will not be recorded on the Payments server without them. As the Content server redirects users to the Payments server along with metrics-related query params, users should not directly access the pages on Payments. Those query params are as follows:</p><ul><li><code>flow_id</code></li><li><code>flow_begin_time</code></li><li><code>device_id</code></li></ul><p>These query params are converted to <code>camelCase</code> once in Payments.</p><p>The main module on the front end for emitting events is <code>src/lib/flow-events.ts</code>.  Its <code>init</code> function is called in <code>src/App.tsx</code>, during which the three query params above are passed into the module.</p><p>A call to <code>logAmplitudeEvent</code> results in a <code>POST</code> to <code>/metrics</code>, which is handled by <code>server/lib/routes/post-metrics.js</code>.  The events are log lines in identitical formats to those emitted by Content server and are sent in batches using <code>navigator.sendBeacon</code>. Once validated at the request level and against a shared &quot;amplitude&quot; schema, the event is logged to <code>stdout</code>. These logs are loaded into BigQuery into partitioned tables. As BigQuery uses schema auto-detection, if the BigQuery data type changes, the log line won&#x27;t go to the partitioned <code>stdout</code> table, but instead to an error table.</p><p>The Payments frontend reports the timing data surfaced by <a href="https://www.w3.org/TR/navigation-timing-2/" target="_blank" rel="noopener noreferrer">Navigation Timing Level 2</a> back to the server side, which then sends the calculated performance metrics to our statsD server.  One major difference between these performance metrics and those in Redshift for Content Server is that these do not have a flow id to connect the timings into a performance overview for a particular request.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="relying-parties">Relying Parties<a href="#relying-parties" class="hash-link" aria-label="Direct link to Relying Parties" title="Direct link to Relying Parties">​</a></h2><p>See <a href="/ecosystem-platform/relying-parties/reference/metrics-for-relying-parties">metrics for relying parties</a>.</p><h1>What other docs are there?</h1><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>These are pretty old and may not be accurate</p></div></div><ul><li><a href="https://github.com/mozilla/fxa/blob/main/packages/fxa-auth-server/docs/metrics-events.md" target="_blank" rel="noopener noreferrer">https://github.com/mozilla/fxa/blob/main/packages/fxa-auth-server/docs/metrics-events.md</a></li><li><a href="https://github.com/mozilla/fxa/blob/main/packages/fxa-content-server/docs/client-metrics.md" target="_blank" rel="noopener noreferrer">https://github.com/mozilla/fxa/blob/main/packages/fxa-content-server/docs/client-metrics.md</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mozilla/ecosystem-platform/edit/master/docs/explanation/metrics.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/ecosystem-platform/explanation/architectural-decision-records"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Architectural Decision Records</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ecosystem-platform/explanation/onepw-protocol"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">onepw Protocol</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#so-where-does-that-leave-us" class="table-of-contents__link toc-highlight">So, where does that leave us?</a></li><li><a href="#auth-server" class="table-of-contents__link toc-highlight">Auth server</a></li><li><a href="#content-server" class="table-of-contents__link toc-highlight">Content server</a></li><li><a href="#event-broker" class="table-of-contents__link toc-highlight">Event Broker</a></li><li><a href="#payments-server" class="table-of-contents__link toc-highlight">Payments server</a></li><li><a href="#relying-parties" class="table-of-contents__link toc-highlight">Relying Parties</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Mozilla Corporation.</div></div></div></footer></div>
<script src="/ecosystem-platform/assets/js/runtime~main.e38b5e82.js"></script>
<script src="/ecosystem-platform/assets/js/main.5156377b.js"></script>
</body>
</html>