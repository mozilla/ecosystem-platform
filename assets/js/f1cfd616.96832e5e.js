"use strict";(self.webpackChunkfirefox_ecosystem_platform=self.webpackChunkfirefox_ecosystem_platform||[]).push([[8540],{20897:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>a,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var t=o(74848),s=o(28453);const i={title:"Using a Custom Profile with Firefox"},r=void 0,c={id:"how-tos/using-a-custom-profile-with-firefox",title:"Using a Custom Profile with Firefox",description:"If you're working on something in FxA involving Firefox you may need to configure the browser to suit your development environment.",source:"@site/docs/how-tos/using-a-custom-profile-with-firefox.md",sourceDirName:"how-tos",slug:"/how-tos/using-a-custom-profile-with-firefox",permalink:"/ecosystem-platform/how-tos/using-a-custom-profile-with-firefox",draft:!1,unlisted:!1,editUrl:"https://github.com/mozilla/ecosystem-platform/edit/master/docs/how-tos/using-a-custom-profile-with-firefox.md",tags:[],version:"current",frontMatter:{title:"Using a Custom Profile with Firefox"},sidebar:"docs",previous:{title:"Node Debugging",permalink:"/ecosystem-platform/how-tos/node-debugging"},next:{title:"Using Sentry.io for Local Development",permalink:"/ecosystem-platform/how-tos/using-sentry-locally"}},l={},d=[{value:"Stage environment setup instructions for different platforms",id:"stage-environment-setup-instructions-for-different-platforms",level:2},{value:"Stage environment setup on Android:",id:"stage-environment-setup-on-android",level:3},{value:"Stage environment setup on iOS:",id:"stage-environment-setup-on-ios",level:3},{value:"Stage environment setup on desktop browser:",id:"stage-environment-setup-on-desktop-browser",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"If you're working on something in FxA involving Firefox you may need to configure the browser to suit your development environment."}),"\n",(0,t.jsxs)(n.p,{children:["Run ",(0,t.jsx)(n.code,{children:"yarn start firefox"}),", which will open an instance of Firefox. It is configurable with the following environment variables:"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Values"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"FXA_ENV"})," - The API endpoints Firefox should use"]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"local"}),", ",(0,t.jsx)(n.code,{children:"latest"}),", ",(0,t.jsx)(n.code,{children:"stable"}),", ",(0,t.jsx)(n.code,{children:"stage"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"local"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"FXA_DESKTOP_CONTEXT"})," - The ",(0,t.jsx)(n.a,{href:"https://github.com/mozilla/fxa/blob/main/packages/fxa-content-server/docs/query-params.md#context",children:(0,t.jsx)(n.code,{children:"context"})})," in which FxA is being run"]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"fx_desktop_v3"}),", ",(0,t.jsx)(n.code,{children:"fx_fennec_v1"}),", ",(0,t.jsx)(n.code,{children:"fx_ios_v1"}),", ",(0,t.jsx)(n.code,{children:"oauth_webchannel_v1"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"fx_desktop_v3"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"FIREFOX_BIN"})," - Path to Firefox bin file"]}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/Applications/FirefoxNightly.app/Contents/MacOS/firefox-bin"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"FIREFOX_DEBUGGER"})," - Open the ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Tools/Browser_Toolbox",children:"Browser Toolbox"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"true"}),", ",(0,t.jsx)(n.code,{children:"false"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"FXA_E10S"})," - Enable ",(0,t.jsx)(n.a,{href:"https://wiki.mozilla.org/Electrolysis",children:"Electrolysis"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"true"}),", ",(0,t.jsx)(n.code,{children:"false"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"stage-environment-setup-instructions-for-different-platforms",children:"Stage environment setup instructions for different platforms"}),"\n",(0,t.jsx)(n.h3,{id:"stage-environment-setup-on-android",children:"Stage environment setup on Android:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Launch Firefox browser"}),"\n",(0,t.jsxs)(n.li,{children:["Tap on the 3 dots menu and then on ",(0,t.jsx)(n.code,{children:"Settings"})]}),"\n",(0,t.jsxs)(n.li,{children:["Scroll down to ",(0,t.jsx)(n.code,{children:"About Firefox"})," and tap on it"]}),"\n",(0,t.jsx)(n.li,{children:"Tap 5 consecutive times on Firefox Browser to enable the debug menu"}),"\n",(0,t.jsx)(n.li,{children:"Go back"}),"\n",(0,t.jsxs)(n.li,{children:["Tap on the ",(0,t.jsx)(n.code,{children:"Custom Firefox Account"}),' server just below "Turn on Sync"']}),"\n",(0,t.jsxs)(n.li,{children:["Enter value: ",(0,t.jsx)(n.code,{children:"https://accounts.stage.mozaws.net"})," and tap OK"]}),"\n",(0,t.jsx)(n.li,{children:"Reopen the browser"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"stage-environment-setup-on-ios",children:"Stage environment setup on iOS:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Launch Firefox browser"}),"\n",(0,t.jsxs)(n.li,{children:["Tap on ",(0,t.jsx)(n.code,{children:"Next"})," and then on ",(0,t.jsx)(n.code,{children:"Start browsing"})]}),"\n",(0,t.jsx)(n.li,{children:"Tap on Hamburger menu in the browser"}),"\n",(0,t.jsxs)(n.li,{children:["Tap on ",(0,t.jsx)(n.code,{children:"Settings"})]}),"\n",(0,t.jsxs)(n.li,{children:["Scroll down to the ",(0,t.jsx)(n.code,{children:"About"})," section and tap 5 consecutive times on the Firefox version (e.g Firefox Daylight 101.1) to enable the debug menu"]}),"\n",(0,t.jsxs)(n.li,{children:["Scroll up to the ",(0,t.jsx)(n.code,{children:"Firefox Account"})," section and tap on ",(0,t.jsx)(n.code,{children:"Advanced Sync Settings"}),". (If you are signed into an account, disconnect first.)"]}),"\n",(0,t.jsxs)(n.li,{children:["Switch the ",(0,t.jsx)(n.code,{children:"Use stage servers"})," to ON."]}),"\n",(0,t.jsx)(n.li,{children:"Restart the browser."}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," On mobile when switching between Stage and Prod viceversa, it\u2019s recommended to uninstall and reinstall the browser."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"stage-environment-setup-on-desktop-browser",children:"Stage environment setup on desktop browser:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Launch Firefox browser."}),"\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.code,{children:"about:profiles"})," and create a new profile."]}),"\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.code,{children:"about:config"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Change the preference ",(0,t.jsx)(n.code,{children:"identity.fxaccounts.autoconfig.uri"})," to ",(0,t.jsx)(n.code,{children:"https://accounts.stage.mozaws.net"}),"."]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>c});var t=o(96540);const s={},i=t.createContext(s);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);