"use strict";(self.webpackChunkfirefox_ecosystem_platform=self.webpackChunkfirefox_ecosystem_platform||[]).push([[7745],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(96540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},70372:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"how-tos/working-with-strapi-cms","title":"Working with Strapi CMS","description":"Last updated: June 30th, 2025","source":"@site/docs/how-tos/working-with-strapi-cms.md","sourceDirName":"how-tos","slug":"/how-tos/working-with-strapi-cms","permalink":"/ecosystem-platform/how-tos/working-with-strapi-cms","draft":false,"unlisted":false,"editUrl":"https://github.com/mozilla/ecosystem-platform/edit/master/docs/how-tos/working-with-strapi-cms.md","tags":[],"version":"current","frontMatter":{"title":"Working with Strapi CMS"},"sidebar":"docs","previous":{"title":"Working with Metrics","permalink":"/ecosystem-platform/how-tos/working-with-metrics"},"next":{"title":"Planning and Development","permalink":"/ecosystem-platform/reference/team-processes/development-process"}}');var t=i(74848),r=i(28453);const l={title:"Working with Strapi CMS"},o=void 0,c={},a=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Cloning and Running Strapi Locally",id:"cloning-and-running-strapi-locally",level:2},{value:"Configuring the Environment",id:"configuring-the-environment",level:2},{value:"Starting Strapi and Creating an Admin Account",id:"starting-strapi-and-creating-an-admin-account",level:2},{value:"Verifying Content Types",id:"verifying-content-types",level:2},{value:"Generating an API Key",id:"generating-an-api-key",level:2},{value:"Configuring the Auth Server",id:"configuring-the-auth-server",level:2},{value:"Enabling CMS on the Frontend",id:"enabling-cms-on-the-frontend",level:2},{value:"Testing the Integration",id:"testing-the-integration",level:2},{value:"Creating a Relying Party Customization",id:"creating-a-relying-party-customization",level:2},{value:"Customizing the Content Entry View",id:"customizing-the-content-entry-view",level:2},{value:"Permissions and access",id:"permissions-and-access",level:3},{value:"Environment-specific behavior",id:"environment-specific-behavior",level:3},{value:"Ways to edit the view (not equivalent)",id:"ways-to-edit-the-view-not-equivalent",level:3},{value:"How to add descriptions to fields",id:"how-to-add-descriptions-to-fields",level:3},{value:"Recommendations",id:"recommendations",level:3},{value:"Viewing Your Customization",id:"viewing-your-customization",level:2},{value:"Landing Code Back into fxa-strapi Repo",id:"landing-code-back-into-fxa-strapi-repo",level:2},{value:"Development Deployment",id:"development-deployment",level:3},{value:"Stage Deployment",id:"stage-deployment",level:3},{value:"Production Deployment",id:"production-deployment",level:3},{value:"Localization of Strapi content",id:"localization-of-strapi-content",level:2},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Last updated: ",(0,t.jsx)(n.code,{children:"June 30th, 2025"})]}),"\n",(0,t.jsxs)(n.p,{children:["This guide will help you set up and use the ",(0,t.jsx)(n.a,{href:"https://strapi.io/",children:"Strapi"})," CMS for customizing Mozilla Accounts (FxA) UI content. It covers local development, configuration, and how to create and test customizations for relying parties."]}),"\n",(0,t.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#overview",children:"Overview"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#prerequisites",children:"Prerequisites"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#cloning-and-running-strapi-locally",children:"Cloning and Running Strapi Locally"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#configuring-the-environment",children:"Configuring the Environment"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#starting-strapi-and-creating-an-admin-account",children:"Starting Strapi and Creating an Admin Account"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#verifying-content-types",children:"Verifying Content Types"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#generating-an-api-key",children:"Generating an API Key"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#configuring-the-auth-server",children:"Configuring the Auth Server"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#enabling-cms-on-the-frontend",children:"Enabling CMS on the Frontend"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#testing-the-integration",children:"Testing the Integration"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#creating-a-relying-party-customization",children:"Creating a Relying Party Customization"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#customizing-the-content-entry-view",children:"Customizing the Content Entry View"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#viewing-your-customization",children:"Viewing your Customization"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#landing-code-back-into-fxa-strapi-repo",children:"Landing Code Back into fxa-strapi Repo"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#localization-of-strapi-content",children:"Localization of Strapi content"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#additional-resources",children:"Additional Resources"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#troubleshooting",children:"Troubleshooting"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"Mozilla Accounts (FxA) supports UI customization via a headless CMS powered by Strapi. This allows product and engineering teams to update UI text, button colors, and branding for different relying parties (clients) without code changes or redeploys."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Strapi"})," is used as the CMS backend."]}),"\n",(0,t.jsx)(n.li,{children:"FxA services fetch customization data from Strapi via GraphQL."}),"\n",(0,t.jsxs)(n.li,{children:["Customizations are keyed by ",(0,t.jsx)(n.code,{children:"clientId"})," and ",(0,t.jsx)(n.code,{children:"entrypoint"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nodejs.org/",children:"Node.js"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.npmjs.com/",children:"npm"})," (comes with Node.js)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://git-scm.com/",children:"Git"})}),"\n",(0,t.jsxs)(n.li,{children:["FxA monorepo checked out and running locally (see ",(0,t.jsx)(n.a,{href:"https://github.com/mozilla/fxa/blob/main/README.md",children:"FxA README"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/mozilla/fxa-strapi",children:"Strapi CMS repo"})," access"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"cloning-and-running-strapi-locally",children:"Cloning and Running Strapi Locally"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"git clone git@github.com:mozilla/fxa-strapi.git\ncd fxa-strapi\ngit checkout dev  # Default branch is 'dev'\nnpm install\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"configuring-the-environment",children:"Configuring the Environment"}),"\n",(0,t.jsxs)(n.p,{children:["Create a ",(0,t.jsx)(n.code,{children:".env"})," file in the root of the ",(0,t.jsx)(n.code,{children:"fxa-strapi"})," directory. Example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"# Server\nHOST=0.0.0.0\nPORT=1337\n\n# Secrets\nAPP_KEYS=FAKE_lP4c+wIfUGvGfXYeSuB14w==,ZbmOJP9trfesnFPuTQ/WvA==,nTF1wJ4XqUwv4qBlAj0Ijg==,LD/8nTcgIF3mePHfMQlhtA==\nAPI_TOKEN_SALT=FAKE_aENAQ8ttWWaCm9SghTFt5Q==\nADMIN_JWT_SECRET=FAKE_8b7a2+FwZgwy+yDi6aTXiQ==\nTRANSFER_TOKEN_SALT=FAKE_NZ01ljrheWx+G02YouasyQ==\n\n# Database (using SQLite for local dev)\nDATABASE_CLIENT=sqlite\nDATABASE_FILENAME=.tmp/data.db\nDATABASE_SSL=false\nJWT_SECRET=gHJHpD/CaaGpWhWnytFaqQ==\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," For other database options, see the ",(0,t.jsx)(n.a,{href:"https://docs.strapi.io/dev-docs/configurations/database",children:"Strapi docs"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"starting-strapi-and-creating-an-admin-account",children:"Starting Strapi and Creating an Admin Account"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm run develop\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This should open a browser window to register your Strapi admin account."}),"\n",(0,t.jsx)(n.li,{children:"Create your local admin account."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"verifying-content-types",children:"Verifying Content Types"}),"\n",(0,t.jsxs)(n.p,{children:["After logging in to the Strapi admin panel (",(0,t.jsx)(n.code,{children:"http://localhost:1337/admin"}),"):"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ensure the following content types exist:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Accounts"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"PageConfig"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Shared"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"These are required for FxA CMS integration. If missing, check the Strapi repo for model definitions or migrations."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"generating-an-api-key",children:"Generating an API Key"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Settings"})," \u2192 ",(0,t.jsx)(n.strong,{children:"API Tokens"})," (",(0,t.jsx)(n.code,{children:"http://localhost:1337/admin/settings/api-tokens/"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Create new API Token"})]}),"\n",(0,t.jsxs)(n.li,{children:["Set:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Name:"})," (e.g., ",(0,t.jsx)(n.code,{children:"local-dev"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Duration:"})," Unlimited"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Permissions:"})," Full access"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Save the token somewhere safe. You\u2019ll need it for the FxA Auth Server config."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"configuring-the-auth-server",children:"Configuring the Auth Server"}),"\n",(0,t.jsx)(n.p,{children:"Update your FxA Auth Server configuration to enable CMS and point to your local Strapi instance."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Edit ",(0,t.jsx)(n.code,{children:"secrets.json"})," or set the corresponding environment variables:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'"cms": {\n  "enabled": true,\n  "strapiClient": {\n    "firestoreCacheTTL": 1,\n    "memCacheTTL": 1,\n    "apiKey": "<YOUR_API_TOKEN>",\n    "graphqlApiUri": "http://localhost:1337/graphql"\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Replace ",(0,t.jsx)(n.code,{children:"<YOUR_API_TOKEN>"})," with the API token you generated above."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Restart the auth server after making changes."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"enabling-cms-on-the-frontend",children:"Enabling CMS on the Frontend"}),"\n",(0,t.jsx)(n.p,{children:"Enable CMS in the FxA Content Server (frontend):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Edit your local ",(0,t.jsx)(n.code,{children:"fxa-content-server/config/local.json"}),":"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'"cms": {\n  "enabled": true\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Start the stack:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn install\nyarn start\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Open Firefox (or your browser of choice):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn firefox\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Open the account page from the Firefox desktop menu (hamburger menu)."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"testing-the-integration",children:"Testing the Integration"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"When you visit the account page, the frontend should make a request to:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"http://localhost:9000/v1/cms/config?clientId=<CLIENT_ID>&entrypoint=<ENTRYPOINT>\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"You can inspect network requests in your browser\u2019s dev tools to confirm."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"creating-a-relying-party-customization",children:"Creating a Relying Party Customization"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In Strapi, go to ",(0,t.jsx)(n.strong,{children:"Content Manager"})," \u2192 ",(0,t.jsx)(n.strong,{children:"Relying Parties"}),(0,t.jsx)(n.br,{}),"\n","(",(0,t.jsx)(n.code,{children:"http://localhost:1337/admin/content-manager/collection-types/api::relying-party.relying-party"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Create new entry"})]}),"\n",(0,t.jsxs)(n.li,{children:["Fill in the required fields:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"clientId:"})," The OAuth client ID for the relying party."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Name:"})," A human-readable name (e.g., ",(0,t.jsx)(n.code,{children:"123done-app"}),").",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.em,{children:"Tip: Use a combination of clientId and entrypoint for clarity."})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entrypoint:"})," The entrypoint string (e.g., ",(0,t.jsx)(n.code,{children:"app"}),", ",(0,t.jsx)(n.code,{children:"fxa_avatar_menu"}),")."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Enter shared components:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"buttonColor:"})," Hex value (e.g., ",(0,t.jsx)(n.code,{children:"#592ACB"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"logoUrl"}),", ",(0,t.jsx)(n.strong,{children:"logoAltText"}),", etc."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Fill out details for each page:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"EmailFirstPage"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"SignupSetPasswordPage"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"SignupConfirmCodePage"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SignupConfirmedSyncPage"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsxs)(n.em,{children:["Note: All pages are required, even if not used by your client. (See ",(0,t.jsx)(n.a,{href:"https://github.com/mozilla/fxa-strapi/issues",children:"issue to make these optional"}),")"]})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Save the entry."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"customizing-the-content-entry-view",children:"Customizing the Content Entry View"}),"\n",(0,t.jsxs)(n.p,{children:["Strapi supports limited customization of the ",(0,t.jsx)(n.strong,{children:"content entry view"})," (the form used to create or edit entries). This is primarily useful for adding short descriptions or guidance text to help editors enter correct data."]}),"\n",(0,t.jsx)(n.h3,{id:"permissions-and-access",children:"Permissions and access"}),"\n",(0,t.jsx)(n.p,{children:"To edit the entry view, you must have:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Admin access"}),", or"]}),"\n",(0,t.jsxs)(n.li,{children:["A role with permission to ",(0,t.jsx)(n.strong,{children:"configure content types and views"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Important notes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Some users ",(0,t.jsx)(n.strong,{children:"cannot see roles or permissions at all"}),". In these cases, request support from the ",(0,t.jsx)(n.strong,{children:"FxA"})," or ",(0,t.jsx)(n.strong,{children:"SubPlat"})," teams."]}),"\n",(0,t.jsxs)(n.li,{children:["Depending on your permissions, you may see a ",(0,t.jsx)(n.strong,{children:"restricted edit view"})," that does ",(0,t.jsx)(n.strong,{children:"not include the Description field"}),". If so, you cannot add helper text yourself."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"environment-specific-behavior",children:"Environment-specific behavior"}),"\n",(0,t.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,t.jsx)(n.strong,{children:"View configuration does not carry across environments."}),"\nAny changes made in ",(0,t.jsx)(n.strong,{children:"dev"})," must be repeated manually in ",(0,t.jsx)(n.strong,{children:"stage"})," and ",(0,t.jsx)(n.strong,{children:"prod"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"ways-to-edit-the-view-not-equivalent",children:"Ways to edit the view (not equivalent)"}),"\n",(0,t.jsxs)(n.p,{children:["There are multiple entry points to \u201cedit the view,\u201d and they do ",(0,t.jsx)(n.strong,{children:"different things"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["From the list view (",(0,t.jsx)(n.code,{children:"Configure the view"}),")"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Controls ",(0,t.jsx)(n.strong,{children:"table columns"}),", sorting, filters, and list behavior"]}),"\n",(0,t.jsxs)(n.li,{children:["Does ",(0,t.jsx)(n.strong,{children:"not"})," allow editing field descriptions"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"From an entry or new entry"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Allows editing ",(0,t.jsx)(n.strong,{children:"field-level settings"})]}),"\n",(0,t.jsxs)(n.li,{children:["This is where you can add ",(0,t.jsx)(n.strong,{children:"Descriptions"})," for form fields"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["To add descriptions, you must use the ",(0,t.jsx)(n.strong,{children:"entry-level configuration"}),", not the list view."]}),"\n",(0,t.jsx)(n.h3,{id:"how-to-add-descriptions-to-fields",children:"How to add descriptions to fields"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Open the ",(0,t.jsx)(n.strong,{children:"Strapi Admin"})," dashboard."]}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Content Manager"}),". (NOT Content-Type Builder)"]}),"\n",(0,t.jsxs)(n.li,{children:["Open an existing entry ",(0,t.jsx)(n.em,{children:"or"})," create a new entry for the content type."]}),"\n",(0,t.jsxs)(n.li,{children:["Open the ",(0,t.jsx)(n.strong,{children:"Configure the view"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Select a field."}),"\n",(0,t.jsxs)(n.li,{children:["Add text to the ",(0,t.jsx)(n.strong,{children:"Description"})," field."]}),"\n",(0,t.jsx)(n.li,{children:"Save the configuration."}),"\n",(0,t.jsx)(n.li,{children:"Verify the description appears in the entry form."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udcf9 ",(0,t.jsx)(n.em,{children:"Screen recording:"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/user-attachments/assets/65669ea8-1119-4fb7-a0c0-b5530ee24918",children:"https://github.com/user-attachments/assets/65669ea8-1119-4fb7-a0c0-b5530ee24918"})}),"\n",(0,t.jsx)(n.h3,{id:"recommendations",children:"Recommendations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Avoid repeating what\u2019s already obvious from the field name."}),"\n",(0,t.jsx)(n.li,{children:"Add links (for example to Storybook component) when helpful for context."}),"\n",(0,t.jsx)(n.li,{children:"Add examples if content must be added in a specific format."}),"\n",(0,t.jsx)(n.li,{children:"Add information that reduces ambiguity at the moment of data entry."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"viewing-your-customization",children:"Viewing Your Customization"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Start a login or signup flow in the client."}),"\n",(0,t.jsxs)(n.li,{children:["Ensure the ",(0,t.jsx)(n.code,{children:"clientId"})," and ",(0,t.jsx)(n.code,{children:"entrypoint"})," in the URL match your Strapi entry."]}),"\n",(0,t.jsx)(n.li,{children:"Refresh the page to see your customization applied."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"landing-code-back-into-fxa-strapi-repo",children:"Landing Code Back into fxa-strapi Repo"}),"\n",(0,t.jsx)(n.p,{children:"After making changes to your local Strapi instance, you need to deploy them through the environment pipeline."}),"\n",(0,t.jsx)(n.h3,{id:"development-deployment",children:"Development Deployment"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create a new PR with your generated files"}),"\n",(0,t.jsxs)(n.li,{children:["Merge the PR into the ",(0,t.jsx)(n.code,{children:"dev"})," branch"]}),"\n",(0,t.jsxs)(n.li,{children:["Changes automatically deploy to: ",(0,t.jsx)(n.a,{href:"https://legendary-beauty-40336b81b4.strapiapp.com/",children:"https://legendary-beauty-40336b81b4.strapiapp.com/"})]}),"\n",(0,t.jsx)(n.li,{children:"Verify permissions are correctly set for your RelyingParty config"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"stage-deployment",children:"Stage Deployment"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Merge the ",(0,t.jsx)(n.code,{children:"dev"})," branch into the ",(0,t.jsx)(n.code,{children:"stg"})," branch"]}),"\n",(0,t.jsxs)(n.li,{children:["Strapi instance updates automatically at: ",(0,t.jsx)(n.a,{href:"https://special-dream-8c48be3fee.strapiapp.com",children:"https://special-dream-8c48be3fee.strapiapp.com"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"production-deployment",children:"Production Deployment"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Merge the ",(0,t.jsx)(n.code,{children:"stg"})," branch into the ",(0,t.jsx)(n.code,{children:"prod"})," branch"]}),"\n",(0,t.jsx)(n.li,{children:"Production deployment takes ~10 minutes to complete"}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," Deploy to stage and production a few days before a tag release to ensure readiness."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"localization-of-strapi-content",children:"Localization of Strapi content"}),"\n",(0,t.jsx)(n.p,{children:"Strings in production are extracted to Pontoon through coordination of fxa and fxa-cms-l10n repos."}),"\n",(0,t.jsx)(n.p,{children:"Note: Strings added to dev or stage Strapi are not extracted for localization."}),"\n",(0,t.jsxs)(n.p,{children:["See: ",(0,t.jsx)(n.a,{href:"https://github.com/mozilla/fxa-cms-l10n",children:"fxa-cms-l10n repository"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/mozilla/fxa-strapi",children:"FxA Strapi CMS Repo"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/mozilla/fxa",children:"FxA Monorepo"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.strapi.io/",children:"Strapi Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://mozilla.github.io/ecosystem-platform/docs/fxa/",children:"FxA Developer Docs"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://mozilla.slack.com/archives/C03QY2X1K",children:"FxA Slack Channel"})," (",(0,t.jsx)(n.code,{children:"#fxa"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"No customization appears?"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Check that CMS is enabled in both backend and frontend configs."}),"\n",(0,t.jsx)(n.li,{children:"Confirm the API token is correct and has full access."}),"\n",(0,t.jsxs)(n.li,{children:["Ensure the ",(0,t.jsx)(n.code,{children:"clientId"})," and ",(0,t.jsx)(n.code,{children:"entrypoint"})," match between the client and Strapi."]}),"\n",(0,t.jsx)(n.li,{children:"Inspect network requests for errors."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Missing content types?"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Check the Strapi repo for model definitions and migrations."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Collection type is missing from the Content Manager"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If a newly created collection type does not appear in the Content Manager, this is usually due to permissions.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The collection type may not be enabled for your role under Content Manager permissions"}),"\n",(0,t.jsx)(n.li,{children:"Your role may not have access to view, create, or edit entries for that type"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["How to fix:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Go to Settings \u2192 Users & Permissions \u2192 Roles"}),"\n",(0,t.jsx)(n.li,{children:"Select your role and enable the collection type under Content Manager"}),"\n",(0,t.jsx)(n.li,{children:"If you do not have access to roles or permissions, request help from the FxA or SubPlat teams."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"This is expected Strapi behavior and does not indicate an issue with the collection type itself."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Need to reset Strapi?"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Delete ",(0,t.jsx)(n.code,{children:".tmp/data.db"})," and restart Strapi to reset the local database."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["If you have questions or run into issues, check the ",(0,t.jsx)(n.a,{href:"https://mozilla.slack.com/archives/C03QY2X1K",children:"FxA Slack"})," or file an issue in the ",(0,t.jsx)(n.a,{href:"https://github.com/mozilla/fxa-strapi/issues",children:"fxa-strapi repo"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);