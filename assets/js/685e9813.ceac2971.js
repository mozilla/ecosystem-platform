"use strict";(self.webpackChunkfirefox_ecosystem_platform=self.webpackChunkfirefox_ecosystem_platform||[]).push([[1484],{28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var r=n(96540);const i={},t=r.createContext(i);function o(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}},70055:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"relying-parties/reference/using-apis","title":"Using APIs","description":"The Ecosystem Platform provides some OAuth APIs for relying parties to use while providing OAuth services to customers.  Relying Parties should only use OAuth API endpoints.  Usage and expectations are detailed below.  Narrower requirements and rate limits may apply to more specific APIs.","source":"@site/docs/relying-parties/reference/using-apis.md","sourceDirName":"relying-parties/reference","slug":"/relying-parties/reference/using-apis","permalink":"/ecosystem-platform/relying-parties/reference/using-apis","draft":false,"unlisted":false,"editUrl":"https://github.com/mozilla/ecosystem-platform/edit/master/docs/relying-parties/reference/using-apis.md","tags":[],"version":"current","frontMatter":{"id":"using-apis","title":"Using APIs","sidebar_label":"Using APIs"},"sidebar":"docs","previous":{"title":"Subscription Platform - Strapi","permalink":"/ecosystem-platform/relying-parties/reference/sub-plat-strapi"},"next":{"title":"Development Setup","permalink":"/ecosystem-platform/tutorials/development-setup"}}');var i=n(74848),t=n(28453);const o={id:"using-apis",title:"Using APIs",sidebar_label:"Using APIs"},a="Using APIs",l={},c=[{value:"API versioning",id:"api-versioning",level:2},{value:"Minor changes",id:"minor-changes",level:3},{value:"Global Rate Limits",id:"global-rate-limits",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"using-apis",children:"Using APIs"})}),"\n",(0,i.jsxs)(s.p,{children:["The Ecosystem Platform provides ",(0,i.jsx)(s.a,{href:"/api#tag/OAuth-Server-API-Overview",children:"some OAuth APIs for relying parties"})," to use while providing OAuth services to customers.  ",(0,i.jsx)(s.strong,{children:"Relying Parties should only use OAuth API endpoints"}),".  Usage and expectations are detailed below.  Narrower requirements and rate limits may apply to more specific APIs."]}),"\n",(0,i.jsxs)(s.p,{children:["If these rules change significantly we'll notify the ",(0,i.jsx)(s.a,{href:"https://groups.google.com/a/mozilla.com/g/firefox-accounts-notices",children:"firefox-accounts-notices group"}),".  If you're using this API please subscribe to that group."]}),"\n",(0,i.jsx)(s.h2,{id:"api-versioning",children:"API versioning"}),"\n",(0,i.jsx)(s.p,{children:"Mozilla accounts APIs are versioned and breaking changes will be pushed out in newer versions of the APIs.  When newer versions of the API are announced we'll also communicate how long we will support the older versions of the APIs."}),"\n",(0,i.jsx)(s.h3,{id:"minor-changes",children:"Minor changes"}),"\n",(0,i.jsx)(s.p,{children:"Mozilla accounts may change existing APIs in non-breaking ways, for example, adding a new field to a JSON response.  It's expected that clients will not fail if new fields are added."}),"\n",(0,i.jsx)(s.h2,{id:"global-rate-limits",children:"Global Rate Limits"}),"\n",(0,i.jsx)(s.p,{children:'During periods of maintenance or heavy load, the server may request that clients enter a "back-off" state, in which they avoid making further requests.'}),"\n",(0,i.jsxs)(s.p,{children:["At such times, you may receive a ",(0,i.jsx)(s.code,{children:"429 Too Many Requests"})," or a ",(0,i.jsx)(s.code,{children:"503 Service Unavailable"})," response with a ",(0,i.jsx)(s.code,{children:"Retry-After"})," header denoting the number of seconds to wait before issuing any further requests. It will also include an ",(0,i.jsx)(s.code,{children:"errno"})," and a ",(0,i.jsx)(s.code,{children:"retryAfter"})," field matching the value of the ",(0,i.jsx)(s.code,{children:"Retry-After"})," header in the body."]}),"\n",(0,i.jsx)(s.p,{children:"For example, the following response indicates that the client should suspend making further requests for 30 seconds:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'HTTP/1.1 503 Service Unavailable\nRetry-After: 30\nContent-Type: application/json\n\n{\n  "code": 503,\n  "errno": 201,\n  "error": "Service Unavailable",\n  "message": "Service unavailable",\n  "info": "https://github.com/mozilla/fxa/blob/main/packages/fxa-auth-server/docs/api.md#response-format",\n  "retryAfter": 30,\n  "retryAfterLocalized": "in a few seconds"\n}\n'})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);